<?xml version="1.0" encoding="utf-8" ?>
<log4net>
  <!-- ðŸ”¹ Ghi log ra file -->
  <appender name="FileAppender" type="log4net.Appender.RollingFileAppender">
    <file value="Logs/app_log.txt" />
    <appendToFile value="true" />
    <rollingStyle value="Date" />
    <datePattern value="yyyy-MM-dd&quot;.log&quot;" />
    <staticLogFileName value="false" />
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%date %-5level %logger - %message%newline" />
    </layout>
  </appender>

  <!-- ðŸ”¹ Ghi log ra console -->
  <appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender">
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="[%date] %-5level %logger - %message%newline" />
    </layout>
  </appender>

  <!-- ðŸ”¹ Gá»­i email khi cÃ³ lá»—i (SMTP Appender) -->
  <appender name="SmtpAppender" type="log4net.Appender.SmtpAppender">
    <!-- Äá»‹a chá»‰ ngÆ°á»i nháº­n -->
    <to value="nguoinhan@example.com" />
    <!-- Äá»‹a chá»‰ ngÆ°á»i gá»­i -->
    <from value="he-thong@example.com" />
    <!-- TiÃªu Ä‘á» email -->
    <subject value="[Cáº¢NH BÃO Lá»–I Há»† THá»NG] Lá»—i á»©ng dá»¥ng API" />
    <!-- SMTP server -->
    <smtpHost value="smtp.gmail.com" />
    <!-- Cá»•ng SMTP -->
    <port value="587" />
    <!-- DÃ¹ng tÃ i khoáº£n Gmail hoáº·c mail server -->
    <authentication value="Basic" />
    <username value="he-thong@example.com" />
    <password value="Máº¬T_KHáº¨U_á»¨NG_Dá»¤NG" />
    <enableSsl value="true" />

    <!-- Gá»­i khi cÃ³ log ERROR trá»Ÿ lÃªn -->
    <threshold value="ERROR" />

    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%date [%thread] %-5level %logger - %message%newline%exception" />
    </layout>
  </appender>

  <!-- ðŸ”¹ Root logger -->
  <root>
    <level value="ALL" />
    <appender-ref ref="FileAppender" />
    <appender-ref ref="ConsoleAppender" />
    <appender-ref ref="SmtpAppender" />
  </root>
</log4net>
